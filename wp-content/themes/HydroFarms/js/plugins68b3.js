/* Modernizr 2.8.1 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransitions-shiv-cssclasses-prefixed-testprop-testallprops-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}function y(a,b){return x(prefixes.join(a+";")+(b||""))}function z(a,b){return typeof a===b}function A(a,b){return!!~(""+a).indexOf(b)}function B(a,b){for(var d in a){var e=a[d];if(!A(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function C(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,"function")?f.bind(d||b):f}return!1}function D(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+n.join(d+" ")+d).split(" ");return z(b,"string")||z(b,"undefined")?B(e,b):(e=(a+" "+o.join(d+" ")+d).split(" "),C(e,b,c))}var d="2.8.0",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m="Webkit Moz O ms",n=m.split(" "),o=m.toLowerCase().split(" "),p={},q={},r={},s=[],t=s.slice,u,v={}.hasOwnProperty,w;!z(v,"undefined")&&!z(v.call,"undefined")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=t.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(t.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(t.call(arguments)))};return e}),p.csstransitions=function(){return D("transition")};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?"":"no-")+u));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},x(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._domPrefixes=o,e._cssomPrefixes=n,e.testProp=function(a){return B([a])},e.testAllProps=D,e.prefixed=function(a,b,c){return b?D(a,b,c):D(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+s.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};


/**
 * bxSlider v4.2.5
 * Copyright 2013-2015 Steven Wanderski
 * Written while drinking Belgian ales and listening to jazz

 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */

;(function($){var X={mode:'horizontal',slideSelector:'',infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:'visible',responsive:true,slideZIndex:50,wrapperClass:'bx-wrapper',touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,ariaLive:true,ariaHidden:true,keyboardEnabled:false,pager:true,pagerType:'full',pagerShortSeparator:' / ',pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:'Next',prevText:'Prev',nextSelector:null,prevSelector:null,autoControls:false,startText:'Start',stopText:'Stop',autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:'next',stopAutoOnClick:false,autoHover:false,autoDelay:0,autoSlideForOnePage:false,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:false,onSliderLoad:function(){return true},onSlideBefore:function(){return true},onSlideAfter:function(){return true},onSlideNext:function(){return true},onSlidePrev:function(){return true},onSliderResize:function(){return true}};$.fn.bxSlider=function(g){if(this.length===0){return this}if(this.length>1){this.each(function(){$(this).bxSlider(g)});return this}var h={},el=this,windowWidth=$(window).width(),windowHeight=$(window).height();if($(el).data('bxSlider')){return}var j=function(){if($(el).data('bxSlider')){return}h.settings=$.extend({},X,g);h.settings.slideWidth=parseInt(h.settings.slideWidth);h.children=el.children(h.settings.slideSelector);if(h.children.length<h.settings.minSlides){h.settings.minSlides=h.children.length}if(h.children.length<h.settings.maxSlides){h.settings.maxSlides=h.children.length}if(h.settings.randomStart){h.settings.startSlide=Math.floor(Math.random()*h.children.length)}h.active={index:h.settings.startSlide};h.carousel=h.settings.minSlides>1||h.settings.maxSlides>1?true:false;if(h.carousel){h.settings.preloadImages='all'}h.minThreshold=(h.settings.minSlides*h.settings.slideWidth)+((h.settings.minSlides-1)*h.settings.slideMargin);h.maxThreshold=(h.settings.maxSlides*h.settings.slideWidth)+((h.settings.maxSlides-1)*h.settings.slideMargin);h.working=false;h.controls={};h.interval=null;h.animProp=h.settings.mode==='vertical'?'top':'left';h.usingCSS=h.settings.useCSS&&h.settings.mode!=='fade'&&(function(){var a=document.createElement('div'),props=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i=0;i<props.length;i++){if(a.style[props[i]]!==undefined){h.cssPrefix=props[i].replace('Perspective','').toLowerCase();h.animProp='-'+h.cssPrefix+'-transform';return true}}return false}());if(h.settings.mode==='vertical'){h.settings.maxSlides=h.settings.minSlides}el.data('origStyle',el.attr('style'));el.children(h.settings.slideSelector).each(function(){$(this).data('origStyle',$(this).attr('style'))});k()};var k=function(){var a=h.children.eq(h.settings.startSlide);el.wrap('<div class="'+h.settings.wrapperClass+'"><div class="bx-viewport"></div></div>');h.viewport=el.parent();if(h.settings.ariaLive&&!h.settings.ticker){h.viewport.attr('aria-live','polite')}h.loader=$('<div class="bx-loading" />');h.viewport.prepend(h.loader);el.css({width:h.settings.mode==='horizontal'?(h.children.length*1000+215)+'%':'auto',position:'relative'});if(h.usingCSS&&h.settings.easing){el.css('-'+h.cssPrefix+'-transition-timing-function',h.settings.easing)}else if(!h.settings.easing){h.settings.easing='swing'}h.viewport.css({width:'100%',overflow:'hidden',position:'relative'});h.viewport.parent().css({maxWidth:o()});if(!h.settings.pager&&!h.settings.controls){h.viewport.parent().css({margin:'0 auto 0px'})}h.children.css({float:h.settings.mode==='horizontal'?'left':'none',listStyle:'none',position:'relative'});h.children.css('width',q());if(h.settings.mode==='horizontal'&&h.settings.slideMargin>0){h.children.css('marginRight',h.settings.slideMargin)}if(h.settings.mode==='vertical'&&h.settings.slideMargin>0){h.children.css('marginBottom',h.settings.slideMargin)}if(h.settings.mode==='fade'){h.children.css({position:'absolute',zIndex:0,display:'none'});h.children.eq(h.settings.startSlide).css({zIndex:h.settings.slideZIndex,display:'block'})}h.controls.el=$('<div class="bx-controls" />');if(h.settings.captions){A()}h.active.last=h.settings.startSlide===s()-1;if(h.settings.video){el.fitVids()}if(h.settings.preloadImages==='all'||h.settings.ticker){a=h.children}if(!h.settings.ticker){if(h.settings.controls){y()}if(h.settings.auto&&h.settings.autoControls){z()}if(h.settings.pager){x()}if(h.settings.controls||h.settings.autoControls||h.settings.pager){h.viewport.after(h.controls.el)}}else{h.settings.pager=false}l(a,m)};var l=function(a,b){var c=a.find('img:not([src=""]), iframe').length,count=0;if(c===0){b();return}a.find('img:not([src=""]), iframe').each(function(){$(this).one('load error',function(){if(++count===c){b()}}).each(function(){if(this.complete){$(this).load()}})})};var m=function(){if(h.settings.infiniteLoop&&h.settings.mode!=='fade'&&!h.settings.ticker){var a=h.settings.mode==='vertical'?h.settings.minSlides:h.settings.maxSlides,sliceAppend=h.children.slice(0,a).clone(true).addClass('bx-clone'),slicePrepend=h.children.slice(-a).clone(true).addClass('bx-clone');if(h.settings.ariaHidden){sliceAppend.attr('aria-hidden',true);slicePrepend.attr('aria-hidden',true)}el.append(sliceAppend).prepend(slicePrepend)}h.loader.remove();u();if(h.settings.mode==='vertical'){h.settings.adaptiveHeight=true}h.viewport.height(n());el.redrawSlider();h.settings.onSliderLoad.call(el,h.active.index);h.initialized=true;if(h.settings.responsive){$(window).bind('resize',U)}if(h.settings.auto&&h.settings.autoStart&&(s()>1||h.settings.autoSlideForOnePage)){K()}if(h.settings.ticker){L()}if(h.settings.pager){G(h.settings.startSlide)}if(h.settings.controls){J()}if(h.settings.touchEnabled&&!h.settings.ticker){P()}if(h.settings.keyboardEnabled&&!h.settings.ticker){$(document).keydown(O)}};var n=function(){var b=0;var c=$();if(h.settings.mode!=='vertical'&&!h.settings.adaptiveHeight){c=h.children}else{if(!h.carousel){c=h.children.eq(h.active.index)}else{var d=h.settings.moveSlides===1?h.active.index:h.active.index*t();c=h.children.eq(d);for(i=1;i<=h.settings.maxSlides-1;i++){if(d+i>=h.children.length){c=c.add(h.children.eq(i-1))}else{c=c.add(h.children.eq(d+i))}}}}if(h.settings.mode==='vertical'){c.each(function(a){b+=$(this).outerHeight()});if(h.settings.slideMargin>0){b+=h.settings.slideMargin*(h.settings.minSlides-1)}}else{b=Math.max.apply(Math,c.map(function(){return $(this).outerHeight(false)}).get())}if(h.viewport.css('box-sizing')==='border-box'){b+=parseFloat(h.viewport.css('padding-top'))+parseFloat(h.viewport.css('padding-bottom'))+parseFloat(h.viewport.css('border-top-width'))+parseFloat(h.viewport.css('border-bottom-width'))}else if(h.viewport.css('box-sizing')==='padding-box'){b+=parseFloat(h.viewport.css('padding-top'))+parseFloat(h.viewport.css('padding-bottom'))}return b};var o=function(){var a='100%';if(h.settings.slideWidth>0){if(h.settings.mode==='horizontal'){a=(h.settings.maxSlides*h.settings.slideWidth)+((h.settings.maxSlides-1)*h.settings.slideMargin)}else{a=h.settings.slideWidth}}return a};var q=function(){var a=h.settings.slideWidth,wrapWidth=h.viewport.width();if(h.settings.slideWidth===0||(h.settings.slideWidth>wrapWidth&&!h.carousel)||h.settings.mode==='vertical'){a=wrapWidth}else if(h.settings.maxSlides>1&&h.settings.mode==='horizontal'){if(wrapWidth>h.maxThreshold){return a}else if(wrapWidth<h.minThreshold){a=(wrapWidth-(h.settings.slideMargin*(h.settings.minSlides-1)))/h.settings.minSlides}else if(h.settings.shrinkItems){a=Math.floor((wrapWidth+h.settings.slideMargin)/(Math.ceil((wrapWidth+h.settings.slideMargin)/(a+h.settings.slideMargin)))-h.settings.slideMargin)}}return a};var r=function(){var a=1,childWidth=null;if(h.settings.mode==='horizontal'&&h.settings.slideWidth>0){if(h.viewport.width()<h.minThreshold){a=h.settings.minSlides}else if(h.viewport.width()>h.maxThreshold){a=h.settings.maxSlides}else{childWidth=h.children.first().width()+h.settings.slideMargin;a=Math.floor((h.viewport.width()+h.settings.slideMargin)/childWidth)}}else if(h.settings.mode==='vertical'){a=h.settings.minSlides}return a};var s=function(){var a=0,breakPoint=0,counter=0;if(h.settings.moveSlides>0){if(h.settings.infiniteLoop){a=Math.ceil(h.children.length/t())}else{while(breakPoint<h.children.length){++a;breakPoint=counter+r();counter+=h.settings.moveSlides<=r()?h.settings.moveSlides:r()}}}else{a=Math.ceil(h.children.length/r())}return a};var t=function(){if(h.settings.moveSlides>0&&h.settings.moveSlides<=r()){return h.settings.moveSlides}return r()};var u=function(){var a,lastChild,lastShowingIndex;if(h.children.length>h.settings.maxSlides&&h.active.last&&!h.settings.infiniteLoop){if(h.settings.mode==='horizontal'){lastChild=h.children.last();a=lastChild.position();v(-(a.left-(h.viewport.width()-lastChild.outerWidth())),'reset',0)}else if(h.settings.mode==='vertical'){lastShowingIndex=h.children.length-h.settings.minSlides;a=h.children.eq(lastShowingIndex).position();v(-a.top,'reset',0)}}else{a=h.children.eq(h.active.index*t()).position();if(h.active.index===s()-1){h.active.last=true}if(a!==undefined){if(h.settings.mode==='horizontal'){v(-a.left,'reset',0)}else if(h.settings.mode==='vertical'){v(-a.top,'reset',0)}}}};var v=function(a,b,c,d){var f,propValue;if(h.usingCSS){propValue=h.settings.mode==='vertical'?'translate3d(0, '+a+'px, 0)':'translate3d('+a+'px, 0, 0)';el.css('-'+h.cssPrefix+'-transition-duration',c/1000+'s');if(b==='slide'){el.css(h.animProp,propValue);if(c!==0){el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(e){if(!$(e.target).is(el)){return}el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');H()})}else{H()}}else if(b==='reset'){el.css(h.animProp,propValue)}else if(b==='ticker'){el.css('-'+h.cssPrefix+'-transition-timing-function','linear');el.css(h.animProp,propValue);if(c!==0){el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(e){if(!$(e.target).is(el)){return}el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');v(d.resetValue,'reset',0);M()})}else{v(d.resetValue,'reset',0);M()}}}else{f={};f[h.animProp]=a;if(b==='slide'){el.animate(f,c,h.settings.easing,function(){H()})}else if(b==='reset'){el.css(h.animProp,a)}else if(b==='ticker'){el.animate(f,c,'linear',function(){v(d.resetValue,'reset',0);M()})}}};var w=function(){var a='',linkContent='',pagerQty=s();for(var i=0;i<pagerQty;i++){linkContent='';if(h.settings.buildPager&&$.isFunction(h.settings.buildPager)||h.settings.pagerCustom){linkContent=h.settings.buildPager(i);h.pagerEl.addClass('bx-custom-pager')}else{linkContent=i+1;h.pagerEl.addClass('bx-default-pager')}a+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+'</a></div>'}h.pagerEl.html(a)};var x=function(){if(!h.settings.pagerCustom){h.pagerEl=$('<div class="bx-pager" />');if(h.settings.pagerSelector){$(h.settings.pagerSelector).html(h.pagerEl)}else{h.controls.el.addClass('bx-has-pager').append(h.pagerEl)}w()}else{h.pagerEl=$(h.settings.pagerCustom)}h.pagerEl.on('click touchend','a',F)};var y=function(){h.controls.next=$('<a class="bx-next" href="">'+h.settings.nextText+'</a>');h.controls.prev=$('<a class="bx-prev" href="">'+h.settings.prevText+'</a>');h.controls.next.bind('click touchend',B);h.controls.prev.bind('click touchend',C);if(h.settings.nextSelector){$(h.settings.nextSelector).append(h.controls.next)}if(h.settings.prevSelector){$(h.settings.prevSelector).append(h.controls.prev)}if(!h.settings.nextSelector&&!h.settings.prevSelector){h.controls.directionEl=$('<div class="bx-controls-direction" />');h.controls.directionEl.append(h.controls.prev).append(h.controls.next);h.controls.el.addClass('bx-has-controls-direction').append(h.controls.directionEl)}};var z=function(){h.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+h.settings.startText+'</a></div>');h.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+h.settings.stopText+'</a></div>');h.controls.autoEl=$('<div class="bx-controls-auto" />');h.controls.autoEl.on('click','.bx-start',D);h.controls.autoEl.on('click','.bx-stop',E);if(h.settings.autoControlsCombine){h.controls.autoEl.append(h.controls.start)}else{h.controls.autoEl.append(h.controls.start).append(h.controls.stop)}if(h.settings.autoControlsSelector){$(h.settings.autoControlsSelector).html(h.controls.autoEl)}else{h.controls.el.addClass('bx-has-controls-auto').append(h.controls.autoEl)}I(h.settings.autoStart?'stop':'start')};var A=function(){h.children.each(function(a){var b=$(this).find('img:first').attr('title');if(b!==undefined&&(''+b).length){$(this).append('<div class="bx-caption"><span>'+b+'</span></div>')}})};var B=function(e){e.preventDefault();if(h.controls.el.hasClass('disabled')){return}if(h.settings.auto&&h.settings.stopAutoOnClick){el.stopAuto()}el.goToNextSlide()};var C=function(e){e.preventDefault();if(h.controls.el.hasClass('disabled')){return}if(h.settings.auto&&h.settings.stopAutoOnClick){el.stopAuto()}el.goToPrevSlide()};var D=function(e){el.startAuto();e.preventDefault()};var E=function(e){el.stopAuto();e.preventDefault()};var F=function(e){var a,pagerIndex;e.preventDefault();if(h.controls.el.hasClass('disabled')){return}if(h.settings.auto&&h.settings.stopAutoOnClick){el.stopAuto()}a=$(e.currentTarget);if(a.attr('data-slide-index')!==undefined){pagerIndex=parseInt(a.attr('data-slide-index'));if(pagerIndex!==h.active.index){el.goToSlide(pagerIndex)}}};var G=function(b){var c=h.children.length;if(h.settings.pagerType==='short'){if(h.settings.maxSlides>1){c=Math.ceil(h.children.length/h.settings.maxSlides)}h.pagerEl.html((b+1)+h.settings.pagerShortSeparator+c);return}h.pagerEl.find('a').removeClass('active');h.pagerEl.each(function(i,a){$(a).find('a').eq(b).addClass('active')})};var H=function(){if(h.settings.infiniteLoop){var a='';if(h.active.index===0){a=h.children.eq(0).position()}else if(h.active.index===s()-1&&h.carousel){a=h.children.eq((s()-1)*t()).position()}else if(h.active.index===h.children.length-1){a=h.children.eq(h.children.length-1).position()}if(a){if(h.settings.mode==='horizontal'){v(-a.left,'reset',0)}else if(h.settings.mode==='vertical'){v(-a.top,'reset',0)}}}h.working=false;h.settings.onSlideAfter.call(el,h.children.eq(h.active.index),h.oldIndex,h.active.index)};var I=function(a){if(h.settings.autoControlsCombine){h.controls.autoEl.html(h.controls[a])}else{h.controls.autoEl.find('a').removeClass('active');h.controls.autoEl.find('a:not(.bx-'+a+')').addClass('active')}};var J=function(){if(s()===1){h.controls.prev.addClass('disabled');h.controls.next.addClass('disabled')}else if(!h.settings.infiniteLoop&&h.settings.hideControlOnEnd){if(h.active.index===0){h.controls.prev.addClass('disabled');h.controls.next.removeClass('disabled')}else if(h.active.index===s()-1){h.controls.next.addClass('disabled');h.controls.prev.removeClass('disabled')}else{h.controls.prev.removeClass('disabled');h.controls.next.removeClass('disabled')}}};var K=function(){if(h.settings.autoDelay>0){var a=setTimeout(el.startAuto,h.settings.autoDelay)}else{el.startAuto();$(window).focus(function(){el.startAuto()}).blur(function(){el.stopAuto()})}if(h.settings.autoHover){el.hover(function(){if(h.interval){el.stopAuto(true);h.autoPaused=true}},function(){if(h.autoPaused){el.startAuto(true);h.autoPaused=null}})}};var L=function(){var b=0,position,transform,value,idx,ratio,property,newSpeed,totalDimens;if(h.settings.autoDirection==='next'){el.append(h.children.clone().addClass('bx-clone'))}else{el.prepend(h.children.clone().addClass('bx-clone'));position=h.children.first().position();b=h.settings.mode==='horizontal'?-position.left:-position.top}v(b,'reset',0);h.settings.pager=false;h.settings.controls=false;h.settings.autoControls=false;if(h.settings.tickerHover){if(h.usingCSS){idx=h.settings.mode==='horizontal'?4:5;h.viewport.hover(function(){transform=el.css('-'+h.cssPrefix+'-transform');value=parseFloat(transform.split(',')[idx]);v(value,'reset',0)},function(){totalDimens=0;h.children.each(function(a){totalDimens+=h.settings.mode==='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true)});ratio=h.settings.speed/totalDimens;property=h.settings.mode==='horizontal'?'left':'top';newSpeed=ratio*(totalDimens-(Math.abs(parseInt(value))));M(newSpeed)})}else{h.viewport.hover(function(){el.stop()},function(){totalDimens=0;h.children.each(function(a){totalDimens+=h.settings.mode==='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true)});ratio=h.settings.speed/totalDimens;property=h.settings.mode==='horizontal'?'left':'top';newSpeed=ratio*(totalDimens-(Math.abs(parseInt(el.css(property)))));M(newSpeed)})}}M()};var M=function(a){var b=a?a:h.settings.speed,position={left:0,top:0},reset={left:0,top:0},animateProperty,resetValue,params;if(h.settings.autoDirection==='next'){position=el.find('.bx-clone').first().position()}else{reset=h.children.first().position()}animateProperty=h.settings.mode==='horizontal'?-position.left:-position.top;resetValue=h.settings.mode==='horizontal'?-reset.left:-reset.top;params={resetValue:resetValue};v(animateProperty,'ticker',b,params)};var N=function(a){var b=$(window),viewport={top:b.scrollTop(),left:b.scrollLeft()},bounds=a.offset();viewport.right=viewport.left+b.width();viewport.bottom=viewport.top+b.height();bounds.right=bounds.left+a.outerWidth();bounds.bottom=bounds.top+a.outerHeight();return(!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom))};var O=function(e){var a=document.activeElement.tagName.toLowerCase(),tagFilters='input|textarea',p=new RegExp(a,['i']),result=p.exec(tagFilters);if(result==null&&N(el)){if(e.keyCode===39){B(e);return false}else if(e.keyCode===37){C(e);return false}}};var P=function(){h.touch={start:{x:0,y:0},end:{x:0,y:0}};h.viewport.bind('touchstart MSPointerDown pointerdown',Q);h.viewport.on('click','.bxslider a',function(e){if(h.viewport.hasClass('click-disabled')){e.preventDefault();h.viewport.removeClass('click-disabled')}})};var Q=function(e){h.controls.el.addClass('disabled');if(h.working){e.preventDefault();h.controls.el.removeClass('disabled')}else{h.touch.originalPos=el.position();var a=e.originalEvent,touchPoints=(typeof a.changedTouches!=='undefined')?a.changedTouches:[a];h.touch.start.x=touchPoints[0].pageX;h.touch.start.y=touchPoints[0].pageY;if(h.viewport.get(0).setPointerCapture){h.pointerId=a.pointerId;h.viewport.get(0).setPointerCapture(h.pointerId)}h.viewport.bind('touchmove MSPointerMove pointermove',S);h.viewport.bind('touchend MSPointerUp pointerup',T);h.viewport.bind('MSPointerCancel pointercancel',R)}};var R=function(e){v(h.touch.originalPos.left,'reset',0);h.controls.el.removeClass('disabled');h.viewport.unbind('MSPointerCancel pointercancel',R);h.viewport.unbind('touchmove MSPointerMove pointermove',S);h.viewport.unbind('touchend MSPointerUp pointerup',T);if(h.viewport.get(0).releasePointerCapture){h.viewport.get(0).releasePointerCapture(h.pointerId)}};var S=function(e){var a=e.originalEvent,touchPoints=(typeof a.changedTouches!=='undefined')?a.changedTouches:[a],xMovement=Math.abs(touchPoints[0].pageX-h.touch.start.x),yMovement=Math.abs(touchPoints[0].pageY-h.touch.start.y),value=0,change=0;if((xMovement*3)>yMovement&&h.settings.preventDefaultSwipeX){e.preventDefault()}else if((yMovement*3)>xMovement&&h.settings.preventDefaultSwipeY){e.preventDefault()}if(h.settings.mode!=='fade'&&h.settings.oneToOneTouch){if(h.settings.mode==='horizontal'){change=touchPoints[0].pageX-h.touch.start.x;value=h.touch.originalPos.left+change}else{change=touchPoints[0].pageY-h.touch.start.y;value=h.touch.originalPos.top+change}v(value,'reset',0)}};var T=function(e){h.viewport.unbind('touchmove MSPointerMove pointermove',S);h.controls.el.removeClass('disabled');var a=e.originalEvent,touchPoints=(typeof a.changedTouches!=='undefined')?a.changedTouches:[a],value=0,distance=0;h.touch.end.x=touchPoints[0].pageX;h.touch.end.y=touchPoints[0].pageY;if(h.settings.mode==='fade'){distance=Math.abs(h.touch.start.x-h.touch.end.x);if(distance>=h.settings.swipeThreshold){if(h.touch.start.x>h.touch.end.x){el.goToNextSlide()}else{el.goToPrevSlide()}el.stopAuto()}}else{if(h.settings.mode==='horizontal'){distance=h.touch.end.x-h.touch.start.x;value=h.touch.originalPos.left}else{distance=h.touch.end.y-h.touch.start.y;value=h.touch.originalPos.top}if(!h.settings.infiniteLoop&&((h.active.index===0&&distance>0)||(h.active.last&&distance<0))){v(value,'reset',200)}else{if(Math.abs(distance)>=h.settings.swipeThreshold){if(distance<0){el.goToNextSlide()}else{el.goToPrevSlide()}el.stopAuto()}else{v(value,'reset',200)}}}h.viewport.unbind('touchend MSPointerUp pointerup',T);if(h.viewport.get(0).releasePointerCapture){h.viewport.get(0).releasePointerCapture(h.pointerId)}};var U=function(e){if(!h.initialized){return}if(h.working){window.setTimeout(U,10)}else{var a=$(window).width(),windowHeightNew=$(window).height();if(windowWidth!==a||windowHeight!==windowHeightNew){windowWidth=a;windowHeight=windowHeightNew;el.redrawSlider();h.settings.onSliderResize.call(el,h.active.index)}}};var V=function(a){var b=r();if(h.settings.ariaHidden&&!h.settings.ticker){h.children.attr('aria-hidden','true');h.children.slice(a,a+b).attr('aria-hidden','false')}};var W=function(a){if(a<0){if(h.settings.infiniteLoop){return s()-1}else{return h.active.index}}else if(a>=s()){if(h.settings.infiniteLoop){return 0}else{return h.active.index}}else{return a}};el.goToSlide=function(a,b){var c=true,moveBy=0,position={left:0,top:0},lastChild=null,lastShowingIndex,eq,value,requestEl;h.oldIndex=h.active.index;h.active.index=W(a);if(h.working||h.active.index===h.oldIndex){return}h.working=true;c=h.settings.onSlideBefore.call(el,h.children.eq(h.active.index),h.oldIndex,h.active.index);if(typeof(c)!=='undefined'&&!c){h.active.index=h.oldIndex;h.working=false;return}if(b==='next'){if(!h.settings.onSlideNext.call(el,h.children.eq(h.active.index),h.oldIndex,h.active.index)){c=false}}else if(b==='prev'){if(!h.settings.onSlidePrev.call(el,h.children.eq(h.active.index),h.oldIndex,h.active.index)){c=false}}h.active.last=h.active.index>=s()-1;if(h.settings.pager||h.settings.pagerCustom){G(h.active.index)}if(h.settings.controls){J()}if(h.settings.mode==='fade'){if(h.settings.adaptiveHeight&&h.viewport.height()!==n()){h.viewport.animate({height:n()},h.settings.adaptiveHeightSpeed)}h.children.filter(':visible').fadeOut(h.settings.speed).css({zIndex:0});h.children.eq(h.active.index).css('zIndex',h.settings.slideZIndex+1).fadeIn(h.settings.speed,function(){$(this).css('zIndex',h.settings.slideZIndex);H()})}else{if(h.settings.adaptiveHeight&&h.viewport.height()!==n()){h.viewport.animate({height:n()},h.settings.adaptiveHeightSpeed)}if(!h.settings.infiniteLoop&&h.carousel&&h.active.last){if(h.settings.mode==='horizontal'){lastChild=h.children.eq(h.children.length-1);position=lastChild.position();moveBy=h.viewport.width()-lastChild.outerWidth()}else{lastShowingIndex=h.children.length-h.settings.minSlides;position=h.children.eq(lastShowingIndex).position()}}else if(h.carousel&&h.active.last&&b==='prev'){eq=h.settings.moveSlides===1?h.settings.maxSlides-t():((s()-1)*t())-(h.children.length-h.settings.maxSlides);lastChild=el.children('.bx-clone').eq(eq);position=lastChild.position()}else if(b==='next'&&h.active.index===0){position=el.find('> .bx-clone').eq(h.settings.maxSlides).position();h.active.last=false}else if(a>=0){requestEl=a*parseInt(t());position=h.children.eq(requestEl).position()}if(typeof(position)!=='undefined'){value=h.settings.mode==='horizontal'?-(position.left-moveBy):-position.top;v(value,'slide',h.settings.speed)}else{h.working=false}}if(h.settings.ariaHidden){V(h.active.index*t())}};el.goToNextSlide=function(){if(!h.settings.infiniteLoop&&h.active.last){return}var a=parseInt(h.active.index)+1;el.goToSlide(a,'next')};el.goToPrevSlide=function(){if(!h.settings.infiniteLoop&&h.active.index===0){return}var a=parseInt(h.active.index)-1;el.goToSlide(a,'prev')};el.startAuto=function(a){if(h.interval){return}h.interval=setInterval(function(){if(h.settings.autoDirection==='next'){el.goToNextSlide()}else{el.goToPrevSlide()}},h.settings.pause);if(h.settings.autoControls&&a!==true){I('stop')}};el.stopAuto=function(a){if(!h.interval){return}clearInterval(h.interval);h.interval=null;if(h.settings.autoControls&&a!==true){I('start')}};el.getCurrentSlide=function(){return h.active.index};el.getCurrentSlideElement=function(){return h.children.eq(h.active.index)};el.getSlideElement=function(a){return h.children.eq(a)};el.getSlideCount=function(){return h.children.length};el.isWorking=function(){return h.working};el.redrawSlider=function(){h.children.add(el.find('.bx-clone')).outerWidth(q());h.viewport.css('height',n());if(!h.settings.ticker){u()}if(h.active.last){h.active.index=s()-1}if(h.active.index>=s()){h.active.last=true}if(h.settings.pager&&!h.settings.pagerCustom){w();G(h.active.index)}if(h.settings.ariaHidden){V(h.active.index*t())}};el.destroySlider=function(){if(!h.initialized){return}h.initialized=false;$('.bx-clone',this).remove();h.children.each(function(){if($(this).data('origStyle')!==undefined){$(this).attr('style',$(this).data('origStyle'))}else{$(this).removeAttr('style')}});if($(this).data('origStyle')!==undefined){this.attr('style',$(this).data('origStyle'))}else{$(this).removeAttr('style')}$(this).unwrap().unwrap();if(h.controls.el){h.controls.el.remove()}if(h.controls.next){h.controls.next.remove()}if(h.controls.prev){h.controls.prev.remove()}if(h.pagerEl&&h.settings.controls&&!h.settings.pagerCustom){h.pagerEl.remove()}$('.bx-caption',this).remove();if(h.controls.autoEl){h.controls.autoEl.remove()}clearInterval(h.interval);if(h.settings.responsive){$(window).unbind('resize',U)}if(h.settings.keyboardEnabled){$(document).unbind('keydown',O)}$(this).removeData('bxSlider')};el.reloadSlider=function(a){if(a!==undefined){g=a}el.destroySlider();j();$(el).data('bxSlider',this)};j();$(el).data('bxSlider',this);return this}})(jQuery);


!function(a){function c(){a(".crf-sm.opened").length&&(a(".crf-s.opened").removeClass("opened"),a(".crf-sm.opened").removeClass("opened").hide(),b.close.call())}a.fn.crfi=function(){this.change(function(){"radio"==a(this).attr("type")&&a("input[name="+a(this).attr("name")+"]").not(this).next(".crf").removeClass("checked"),a(this).prop("checked")?a(this).next().addClass("checked"):a(this).next().removeClass("checked")}),this.not(".crf-i").each(function(b){a(this).attr("id","crf-input-"+b).css({position:"absolute",left:"-9999em"}).addClass("crf-i").next("label").addClass("crf").attr("for","crf-input-"+b),a(this).prop("checked")&&a(this).next().addClass("checked")})};var b,d={init:function(d){b=a.extend({select:function(){},done:function(){},open:function(){},close:function(){}},d),a(document).unbind("click.crfs").on("click.crfs",".crf-s",function(){var d=a("div[data-id="+a(this).attr("id")+"]");if(d.is(":visible"))return c(),!1;c();var e=a(this).outerHeight(),f=a(this).find("select").attr("class"),g=a(this).offset(),h=d.show().height();d.css({position:"absolute",left:"-9999em"}),a(this).addClass("opened"),d.addClass("opened "+f).css({left:g.left,top:g.top+e+h>a(document).height()?g.top-h:g.top+e,width:a(this).outerWidth()}).show(),b.open.call()}),a(document).click(function(b){return a(b.target).closest(".crf-sm.opened, .crf-s.opened").length>0?!1:(c(),void 0)}),a(window).resize(function(){var b=a(".crf-s.opened");if(b.length){var c=a(".crf-sm.opened"),d=b.outerHeight(),e=b.offset(),f=c.height();c.css({left:e.left,top:e.top+d+f>a(document).height()?e.top-f:e.top+d,width:b.outerWidth()})}}),a(document).on("click.crfs",".crf-sm li",function(){var d=a(this).parentsUntil(".crf-sm").parent().attr("data-id"),e=a("#"+d).attr("class");return a("#"+d).attr("class","crf-s").addClass(a(this).attr("class").replace("selected","")).addClass(e.replace("hided-s","").replace("opened","")).find(".option").text(a(this).text()),a("#"+d).find("select").children().prop("selected",!1).eq(a(this).index()).prop("selected",!0).change(),a(this).parentsUntil(".crf-sm").parent().find(".selected").removeClass("selected"),a(this).addClass("selected"),c(),b.select.call(),!1}),this.not(".hided-s").each(function(c){a(this).addClass("hided-s").hide().wrap("<span class='crf-s "+a(this).attr("class")+"' id='crf-s-"+c+"' />").parent().append("<span class='option'>"+a(this).find("option:selected").text()+"</span>");var d=a("<ul></ul>");a(this).children().each(function(){d.append("<li class='"+(void 0!=a(this).attr("class")?a(this).attr("class")+"":"")+(a(this).is(":selected")?" selected":"")+"'><span class='link'>"+a(this).text()+"</span></li>")}),a("<div class='crf-sm' data-id='crf-s-"+c+"'/>").append(d).appendTo("body"),b.done.call()})},hide:function(){c()}};a.fn.crfs=function(a){return d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:d.init.apply(this,arguments)}}(jQuery);


/*!
 * Masonry PACKAGED v3.3.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?"textContent":"innerText"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error("Error parsing "+h+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function h(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var i=a.getComputedStyle,j=i?function(a){return i(a,null)}:function(a){return a.currentStyle},k=d("transition"),l=d("transform"),m=k&&l,n=!!d("perspective"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[k],p=["transform","transition","transitionDuration","transitionProperty"],q=function(){for(var a={},b=0,c=p.length;c>b;b++){var e=p[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=q[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=j(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=a[c?"left":"right"],f=a[d?"top":"bottom"],g=this.layout.size,h=-1!=e.indexOf("%")?parseFloat(e)/100*g.width:parseInt(e,10),i=-1!=f.indexOf("%")?parseFloat(f)/100*g.height:parseInt(f,10);h=isNaN(h)?0:h,i=isNaN(i)?0:i,h-=c?g.paddingLeft:g.paddingRight,i-=d?g.paddingTop:g.paddingBottom,this.position.x=h,this.position.y=i},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];c[e]=this.getXValue(g),c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];c[i]=this.getYValue(k),c[j]="",this.css(c),this.emitEvent("layout",[this])},g.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+"%":a+"px"},g.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&b.isHorizontal?a/this.layout.size.height*100+"%":a+"px"},g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.getTranslate=function(a,b){var c=this.layout.options;return a=c.isOriginLeft?a:-a,b=c.isOriginTop?b:-b,n?"translate3d("+a+"px, "+b+"px, 0)":"translate("+a+"px, "+b+"px)"},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=m?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r="opacity,"+h(q.transform||"transform");g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(o,this,!1))},g.prototype.transition=g.prototype[k?"_transition":"_nonTransition"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},g.prototype.remove=function(){if(!k||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},g.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?("string"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),i)if(this.$element=this.$element||i(this.element),b){var e=i.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d});



/*!
 * classie - class helper functions
 * from bonzo https://github.com/ded/bonzo
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */

/*jshint browser: true, strict: true, undef: true */
/*global define: false */

( function( window ) {

'use strict';

// class helper functions from bonzo https://github.com/ded/bonzo

function classReg( className ) {
  return new RegExp("(^|\\s+)" + className + "(\\s+|$)");
}

// classList support for class management
// altho to be fair, the api sucks because it won't accept multiple classes at once
var hasClass, addClass, removeClass;

if ( 'classList' in document.documentElement ) {
  hasClass = function( elem, c ) {
    return elem.classList.contains( c );
  };
  addClass = function( elem, c ) {
    elem.classList.add( c );
  };
  removeClass = function( elem, c ) {
    elem.classList.remove( c );
  };
}
else {
  hasClass = function( elem, c ) {
    return classReg( c ).test( elem.className );
  };
  addClass = function( elem, c ) {
    if ( !hasClass( elem, c ) ) {
      elem.className = elem.className + ' ' + c;
    }
  };
  removeClass = function( elem, c ) {
    elem.className = elem.className.replace( classReg( c ), ' ' );
  };
}

function toggleClass( elem, c ) {
  var fn = hasClass( elem, c ) ? removeClass : addClass;
  fn( elem, c );
}

var classie = {
  // full names
  hasClass: hasClass,
  addClass: addClass,
  removeClass: removeClass,
  toggleClass: toggleClass,
  // short names
  has: hasClass,
  add: addClass,
  remove: removeClass,
  toggle: toggleClass
};

// transport
if ( typeof define === 'function' && define.amd ) {
  // AMD
  define( classie );
} else {
  // browser global
  window.classie = classie;
}

})( window );

/**
 * uiMorphingButton_fixed.js v1.0.0
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * Copyright 2014, Codrops
 * http://www.codrops.com
 */
;( function( window ) {
	
	'use strict';

	var transEndEventNames = {
			'WebkitTransition': 'webkitTransitionEnd',
			'MozTransition': 'transitionend',
			'OTransition': 'oTransitionEnd',
			'msTransition': 'MSTransitionEnd',
			'transition': 'transitionend'
		},
		transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],
		support = { transitions : Modernizr.csstransitions };

	function extend( a, b ) {
		for( var key in b ) { 
			if( b.hasOwnProperty( key ) ) {
				a[key] = b[key];
			}
		}
		return a;
	}

	function UIMorphingButton( el, options ) {
		this.el = el;
		this.options = extend( {}, this.options );
		extend( this.options, options );
		this._init();
	}

	UIMorphingButton.prototype.options = {
		closeEl : '',
		onBeforeOpen : function() { return false; },
		onAfterOpen : function() { return false; },
		onBeforeClose : function() { return false; },
		onAfterClose : function() { return false; }
	}

	UIMorphingButton.prototype._init = function() {
		// the button
		this.button = this.el.querySelector( 'button' );
		// state
		this.expanded = false;
		// content el
		this.contentEl = this.el.querySelector( '.morph-content' );
		// init events
		this._initEvents();
	}

	UIMorphingButton.prototype._initEvents = function() {
		var self = this;
		// open
		this.button.addEventListener( 'click', function() { self.toggle(); } );
		// close
		if( this.options.closeEl !== '' ) {
			var closeEl = this.el.querySelector( this.options.closeEl );
			if( closeEl ) {
				closeEl.addEventListener( 'click', function() { self.toggle(); } );
			}
		}
	}

	UIMorphingButton.prototype.toggle = function() {
		if( this.isAnimating ) return false;

		// callback
		if( this.expanded ) {
			this.options.onBeforeClose();
		}
		else {
			// add class active (solves z-index problem when more than one button is in the page)
			classie.addClass( this.el, 'active' );
			this.options.onBeforeOpen();
		}

		this.isAnimating = true;

		var self = this,
			onEndTransitionFn = function( ev ) {
				if( ev.target !== this ) return false;

				if( support.transitions ) {
					// open: first opacity then width/height/left/top
					// close: first width/height/left/top then opacity
					if( self.expanded && ev.propertyName !== 'opacity' || !self.expanded && ev.propertyName !== 'width' && ev.propertyName !== 'height' && ev.propertyName !== 'left' && ev.propertyName !== 'top' ) {
						return false;
					}
					this.removeEventListener( transEndEventName, onEndTransitionFn );
				}
				self.isAnimating = false;
				
				// callback
				if( self.expanded ) {
					// remove class active (after closing)
					classie.removeClass( self.el, 'active' );
					self.options.onAfterClose();
				}
				else {
					self.options.onAfterOpen();
				}

				self.expanded = !self.expanded;
			};

		if( support.transitions ) {
			this.contentEl.addEventListener( transEndEventName, onEndTransitionFn );
		}
		else {
			onEndTransitionFn();
		}
			
		// set the left and top values of the contentEl (same like the button)
		var buttonPos = this.button.getBoundingClientRect();
		// need to reset
		classie.addClass( this.contentEl, 'no-transition' );
		this.contentEl.style.left = 'auto';
		this.contentEl.style.top = 'auto';
		
		// add/remove class "open" to the button wraper
		setTimeout( function() { 
			self.contentEl.style.left = buttonPos.left + 'px';
			self.contentEl.style.top = buttonPos.top + 'px';
			
			if( self.expanded ) {
				classie.removeClass( self.contentEl, 'no-transition' );
				classie.removeClass( self.el, 'open' );
			}
			else {
				setTimeout( function() { 
					classie.removeClass( self.contentEl, 'no-transition' );
					classie.addClass( self.el, 'open' ); 
				}, 25 );
			}
		}, 25 );
	}

	// add to global namespace
	window.UIMorphingButton = UIMorphingButton;

})( window );